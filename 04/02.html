<html>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.7/p5.min.js"></script>

<!--
<script type="text/javascript" src="lib/p5.min.js"></script>
<script type="text/javascript" src="lib/p5.dom.min.js"></script>
-->

<script>
var imgs = {};
var currentImage;

function preload() {
  for (var i = 32; i <= 126; i++) {
    imgs[i.toString()] = loadImage("assets/" + i.toString() + ".png");
  }
}

function setup() {
  createCanvas(600, 600);
  background(0);
  noStroke();
  rectMode(CENTER);
  ellipseMode(CENTER);
}

function draw() {
  if (!currentImage) { return; }

  for (var i = 0; i < 100; i++) {
    var x, y;
    x = random(width);
    y = random(height);
    var c = currentImage.get(x * currentImage.width / width, y * currentImage.height / height);

    fill(c);
    ellipse(x, y, 10, 10);
  }
}

function keyTyped() {
  var code = unchar(key);
  if (code >= 32 && code <= 126) {
    currentImage = imgs[code.toString()];
    //background(0);
  }
  return false; // prevent any default behavior
}

</script>
</html>
